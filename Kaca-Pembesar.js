$(function(){var a,t=0,e=0,s={x:0,y:0},i={magniflier:$(".magniflier")};if(i.magniflier.length){var n=document.createElement("div");n.setAttribute("class","glass"),i.glass=$(n),$("body").append(n)}var g=function(t){$(this);var e=a.offset();s.x=t.pageX-e.left,s.y=t.pageY-e.top,s.x<a.width()&&s.y<a.height()&&s.x>0&&s.y>0?o(t):i.glass.fadeOut(100)},o=function(n){var g=-1*Math.round(s.x/a.width()*t-i.glass.width()/2)+"px "+-1*Math.round(s.y/a.height()*e-i.glass.height()/2)+"px",o=n.pageX-i.glass.width()/2,d=n.pageY-i.glass.height()/2;i.glass.css({left:o,top:d,backgroundPosition:g})};$(".magniflier").on("mousemove",function(){i.glass.fadeIn(100);(a=$(this)).data("large-img-loaded");var s=a.data("large")||a.attr("src");if(s&&i.glass.css({"background-image":"url("+s+")","background-repeat":"no-repeat"}),!a.data("native_width")){var n=new Image;return n.onload=function(){t=n.width,e=n.height,a.data("native_width",t),a.data("native_height",e),g.apply(this,arguments),i.glass.on("mousemove",g)},void(n.src=s)}t=a.data("native_width"),e=a.data("native_height"),g.apply(this,arguments),i.glass.on("mousemove",g)}),i.glass.on("mouseout",function(){i.glass.off("mousemove",g)})});
